<view class="container">
  <swiper class="musics-swiper" current="{{current}}" bindchange="handleChange">
    <block wx:for="{{musics}}" wx:key="id" wx:for-index="idx">
      <swiper-item class="musics-swiper-item">
        <scroll-view class="music" scroll-y="true">
          <view class="music-container">
            <view class="music-cover">
              <image class="music-cover-image" src="{{item.cover}}" mode="aspectFill"></image>
            </view>
            <view class="music-control">
              <view class="music-author">
                <image class="music-author-avatar" src="{{item.author.web_url}}" mode="aspectFill"></image>
                <view class="music-author-username">
                  <text>{{item.author.user_name}}</text>
                </view>
                <view class="music-author-desc">
                  <text>{{item.author.desc}}</text>
                </view>
              </view>
              <view class="music-play" bindtap="togglePlay">
                <image class="music-play-control" src="{{playImg[idx]}}" data-idx="{{idx}}"></image>
              </view>
              <view class="music-title">
                <text>{{item.title}}</text>
              </view>
              <view class="music-maketime">
                <text>{{item.maketime}}</text>
              </view>
            </view>
            <view class="music-content">
              <import src="templates/story.wxml"/>
              <template wx:if="{{content === 'story'}}" is="story" data="{{item: item}}"/>

              <import src="templates/lyric.wxml"/>
              <template wx:if="{{content === 'lyric'}}" is="lyric" data="{{item: item}}"/>

              <import src="templates/about.wxml"/>
              <template wx:if="{{content === 'about'}}" is="about" data="{{item: item}}"/>
            </view>
          </view>
        </scroll-view>
      </swiper-item>
    </block>
    <swiper-item></swiper-item>
  </swiper>
</view>
